"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const course_1 = require("../../controllers/course");
const index_1 = require("../../controllers/course/index");
const verify_token_1 = require("../../middlewares/verify-token");
const router = (0, express_1.Router)();
router.get('/', course_1.getCourses);
router.get('/categories', course_1.getCategories);
router.get('/published-courses', course_1.getPublishedCourses);
router.get('/:id/published-course', course_1.getPublishedCourse);
router.get('/published-courses-with-progress', verify_token_1.verifyToken, course_1.getPublishedCoursesWithProgress);
router.get('/:courseId/chapters/:chapterId', verify_token_1.verifyToken, course_1.getPublishedOrFreeChapterWithProgress);
router.get('/:id/published-courses-progress', verify_token_1.verifyToken, index_1.getPublishedCourseProgress);
router.get('/:id/purchased-course', verify_token_1.verifyToken, index_1.getPurchasedCourse);
router.get('/:id/user-course-progress', verify_token_1.verifyToken, course_1.getUserCourseProgress);
router.get('/user-progress', verify_token_1.verifyToken, course_1.getUserProgress);
router.post('/', verify_token_1.verifyAdmin, course_1.createCourse);
router.get('/:id', course_1.getCourse);
router.patch('/:id', verify_token_1.verifyAdmin, course_1.updateCourse);
router.patch('/:id/chapters/reorder', verify_token_1.verifyAdmin, course_1.reorderCourseChapters);
router.post('/:id/chapters', verify_token_1.verifyAdmin, course_1.createCourseChapter);
router.post('/:id/attachments', verify_token_1.verifyAdmin, course_1.createCourseAttachment);
router.delete('/attachments/:id', verify_token_1.verifyAdmin, course_1.deleteCourseAttachment);
router.patch('/:id/chapters/:chapterId', verify_token_1.verifyAdmin, course_1.updateCourseChapter);
router.get('/:id/course-chapters/:chapterId', verify_token_1.verifyAdmin, course_1.getCourseChapter);
router.patch('/chapters/:chapterId/progress', verify_token_1.verifyToken, course_1.updateUserCourseProgress);
router.delete('/:id', verify_token_1.verifyAdmin, course_1.deleteCourse);
exports.default = router;
